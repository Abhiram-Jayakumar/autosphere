<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Vehicle</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-4">
        <h2 class="text-center">Edit Vehicle</h2>

        {% if messages %}
            {% for message in messages %}
                <div class="alert {% if message.tags == 'success' %}alert-success{% else %}alert-danger{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}

        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="mb-3">
                <label class="form-label">Title</label>
                <input type="text" name="title" class="form-control" value="{{ vehicle.title }}" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Brand</label>
                <input type="text" name="brand" class="form-control" value="{{ vehicle.brand }}" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Model</label>
                <input type="text" name="model" class="form-control" value="{{ vehicle.model }}" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Year</label>
                <input type="number" name="year" class="form-control" value="{{ vehicle.year }}" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Price</label>
                <input type="text" name="price" class="form-control" value="{{ vehicle.price }}" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Fuel Type</label>
                <select name="fuel_type" class="form-control">
                    <option value="Petrol" {% if vehicle.fuel_type == "Petrol" %}selected{% endif %}>Petrol</option>
                    <option value="Diesel" {% if vehicle.fuel_type == "Diesel" %}selected{% endif %}>Diesel</option>
                    <option value="Electric" {% if vehicle.fuel_type == "Electric" %}selected{% endif %}>Electric</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Transmission</label>
                <select name="transmission" class="form-control">
                    <option value="Manual" {% if vehicle.transmission == "Manual" %}selected{% endif %}>Manual</option>
                    <option value="Automatic" {% if vehicle.transmission == "Automatic" %}selected{% endif %}>Automatic</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Vehicle Type</label>
                <select name="vehicle_type" class="form-control">
                    <option value="sale" {% if vehicle.vehicle_type == "sale" %}selected{% endif %}>For Sale</option>
                    <option value="rent" {% if vehicle.vehicle_type == "rent" %}selected{% endif %}>For Rent</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Description</label>
                <textarea name="description" class="form-control">{{ vehicle.description }}</textarea>
            </div>

            <div class="mb-3">
                <label class="form-label">Vehicle Image</label>
                <input type="file" name="image" class="form-control">
                {% if vehicle.image %}
                    <img src="{{ vehicle.image.url }}" class="img-thumbnail mt-2" width="200">
                {% endif %}
            </div>

            <button type="submit" class="btn btn-success">Update Vehicle</button>
            <a href="{% url 'Customer:customer_vehicles' %}" class="btn btn-secondary">Cancel</a>
        </form>
    </div>
</body>
</html>
